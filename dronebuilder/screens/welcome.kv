#:kivy 1.0

#:import expanduser os.path.expanduser
#:import DroneFileManager dronebuilder.components.filemanager.DroneFileManager
#:import WelcomeScreen dronebuilder.components.welcome.WelcomeScreen

<WelcomeScreen>:
    name: "welcome"
    md_bg_color: (30/255.0,55/255.0,90/255.0,1)

    MDBoxLayout:
        orientation: "vertical"
        # adaptive_height: True
        padding: ["20sp", "20sp", "20sp", "20sp"]

        AsyncImage:
            source: "resources/logo.png"

        MDLabel:
            adaptive_height: True
            text: "Welcome to Drone CI/CD Config Editor"
            font_style: "H4"
            halign: "center"
            color: "white"


        MDLabel:
            adaptive_height: True
            markup: True
            text: "To start, open an existing [i].drone.yaml[/i] file or create a new config file"
            halign: "center"
            color: "white"

        Widget:
            size_hint_y: None
            height: "20sp"

        MDBoxLayout:
            orientation: "vertical"
            size_hint: (1, None)

            MDBoxLayout:
                orientation: "horizontal"
                spacing: "20sp"

                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                adaptive_width: True

                MDRaisedButton:
                    text: "Open..."
                    on_release: root.browse_open_drone_file()
                    md_bg_color: 24/255.0, 45/255.0, 73/255.0, 1

                MDFlatButton:
                    text: "New"
                    theme_text_color: "Custom"
                    text_color: "white"
                    on_release: root.browse_new_drone_file()

        Widget:
            size_hint_y: None
            height: "20sp"

        MDLabel:
            adaptive_height: True
            markup: True
            text: "[b]Recent:[/b]"
            color: 0.8, 0.8, 0.8, 1
            font_style: "Subtitle1"

        ScrollView:
            MDList:
                id: recent_files_container
